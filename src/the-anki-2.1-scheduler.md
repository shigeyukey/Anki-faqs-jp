# Anki 2.1 スケジューラ

Anki 2.1には、以前のAnkiバージョンで発生していた多くの問題を修正する新しいスケジューラが搭載されています。

## 互換性

2.1スケジューラは2018年8月に導入されました。AnkiMobileとAnkiWebも同時期にサポートが追加され、AnkiDroidは2019年10月以降のリリースでサポートしています。

古いAnki 2.0ではサポートされていません。

Anki 2.1.50+/AnkiMobile 2.0.84+では、2.1スケジューラへのアップデートが必要です。

## アップデート

AnkiWebと同期している場合、アップデートにはAnkiWebへの一方向のアップロードが必要です。アップデートする前に、すべてのデバイスが同期していることを確認してください。そうしないと、他のデバイスで行った変更を誤って上書きしてしまう可能性があります。

アップデートする前に、バックアップをエクスポートすることをお勧めします。コンピュータ版を使用している場合は、ファイル > エクスポートメニュー項目を使用して、すべてのデッキとスケジューリングを含む.colpkgファイルを作成できます。AnkiMobileを使用している場合は、追加/エクスポートオプションを使用してcolpkgファイルをエクスポートできます。問題が発生した場合には、バックアップから復元することができます。

アップデートが完了したら、同期して「アップロード」を選択し、アップグレードされたコレクションをAnkiWebに送信してください。その後、使用している他のデバイスを同期し、それぞれで「ダウンロード」を選択して、すべてを再同期してください。

### Anki 2.1.41+/AnkiMobile 2.0.75+

アップデートするには、デッキリストに表示されるアップデートメッセージをクリックしてください。

以前のAnkiバージョンとは異なり、学習中のカードはリセットされず、フィルターデッキ内のカードもフィルタリングされたままです。新しいスケジューラはフィルターデッキを異なる方法で処理するため、設定したカスタムステップは適用されなくなりますが、再スケジューリングが有効なフィルターデッキは学習カードをリセットしません。

アップデート時にAnkiDroid 2.14を使用しているかどうかを尋ねられることがあります。この場合、「いいえ」を選択しても問題ありません。AnkiDroid 2.15がリリースされているためです。プロンプトで間違えた場合は、Ankiの設定画面でタイムゾーンの処理を調整できます。

一度アップデートすると、古いスケジューラに戻すオプションはありません。コンピュータで古いバージョンのAnkiに戻し、設定でスケジューラを変更することは可能ですが、その場合、学習カードとフィルターデッキをリセットする必要があります。

AnkiMobile 2.0.84+にアップデートした場合、Appleはアプリのダウングレードを許可していないため、古いスケジューラに戻すことはできません。

### 古いAnkiバージョン

古いAnkiバージョンでは、アップデート前に学習中のすべてのカードがリセットされ、フィルターデッキ内のすべてのカードが元のデッキに戻されます。これは、長い学習ステップを持つ人々にとって問題となります。そのような状況にある場合は、2.1.41以降にアップデートすることをお勧めします。

古いバージョンには、設定画面でスケジューラのバージョンを切り替えるオプションがあります。

## 変更点

復習:

- デッキに子デッキがある場合、1つのデッキを表示する代わりに、すべての子デッキから一度に復習が取られます。
- 日次復習の制限は、クリックしたデッキから取られます。「grandparent::parent::child」というデッキツリーがあり、「parent」をクリックした場合、「grandparent」と「child」に設定した制限は無視されます。

(再)学習:

- 学習カードには3つではなく4つのボタンがあります。ハードは最初のステップの後に現在のステップを繰り返し、最初のステップではAgainとGoodの平均です。
- 学習カウントは、完了するために必要なステップ数ではなく、カードの数になりました。
- カードを一時停止/埋めることは、カードの学習ステップをリセットしません。
- 失効した復習は、最初のステップではなく、最後の再学習ステップで次の期日が更新されます。
- 設定画面に、復習の前に日間学習カードを表示する新しいオプションがあります。
- カードが再学習中の場合、イージーボタンは間隔を1日延ばします。

フィルターデッキ:

- フィルターデッキは、構築または空にされたときに(再)学習カードをリセットせず、復習と学習カードは新しいキューではなく正しいキューに表示されます。
- フィルターデッキは2つ目の検索条件をサポートするため、例えば100枚の復習カードと20枚の新しいカードを含めることができます。
- まだ期日が来ていないカードのスケジューリングが改善され、3つではなく4つのボタンが表示されます。
- フィルターデッキはカスタムステップをサポートしなくなり、スケジューリングの変更を無効にする古いオプションの代わりにシンプルな「プレビューモード」があります。プレビュー時に新しいカードの順序は忘れられません。
- カードはフィルターデッキに残ったまま埋めたり一時停止したりできます。

その他の変更点:

- 「次の日の開始」は現在のタイムゾーンに相対的になりました。
- Ankiは手動で埋められたカードと自動で埋められたカードを区別するようになり、一方を解除しても他方は解除されません。

## 2021年の更新

V2スケジューラの更新は現在[ベータテスト中](./the-2021-scheduler.md)です。